(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();function g(i,n){let s=Math.sin(i*127.1+n*311.7)*43758.5453;return s-Math.floor(s)}function X(i,n){const s=Math.floor(i),o=Math.floor(n),e=i-s,t=n-o,r=e*e*(3-2*e),a=t*t*(3-2*t),c=g(s,o),d=g(s+1,o),w=g(s,o+1),E=g(s+1,o+1);return c+(d-c)*r+(w-c)*a+(c-d-w+E)*r*a}function b(i,n,s){let o=0,e=1,t=1,r=0;for(let a=0;a<s;a++)o+=X(i*t,n*t)*e,r+=e,e*=.5,t*=2;return o/r}let M=[];function B(i,n,s=7.5){const o=s*.6,e=-s*.6,t=5,r=3.5;M=[];for(let a=0;a<i;a++){const c=n.getX(a),d=n.getZ(a),w=b(c*.15,d*.15,3)*.4,E=Math.sin(c*.8)*Math.sin(d*.8)*.15,v=c-o,R=d-e,T=Math.sqrt(v*v+R*R);let P=0;if(T<t){const f=1-T/t,y=f*f*f*(f*(f*6-15)+10),z=b(c*.3+10,d*.3+10,4)*y*1.2,I=Math.abs(Math.sin(c*.5+d*.3))*y*.6;P=y*r+z+I}const L=w+E+P;M.push(L),n.setY(a,L)}n.needsUpdate=!0}function q(i,n,s){for(let o=0;o<i;o++){const e=n.getX(o),t=n.getZ(o),r=Math.sin(e*.3+s*.5)*Math.cos(t*.2+s*.3)*.25;n.setY(o,M[o]+r)}n.needsUpdate=!0}const p=new THREE.Scene,l=new THREE.PerspectiveCamera(25,window.innerWidth/window.innerHeight,.1,200),Y=document.getElementById("canvas");let h;try{h=new THREE.WebGLRenderer({canvas:Y,antialias:!0,powerPreference:"default",failIfMajorPerformanceCaveat:!1,alpha:!0})}catch{throw document.getElementById("bottom").classList.remove("bg-black/75"),document.getElementById("bottom").classList.add("bg-transparnet"),console.warn("WebGL not available, using CSS fallback"),new Error("WebGL unavailable")}const Z=new THREE.Clock;let C=0,D=0,F=8,O=1;const j=.04,U=25,k=25,H=new THREE.PlaneGeometry(15,15,U,k),J=new THREE.MeshBasicMaterial({color:15680580,wireframe:!0,opacity:1}),u=new THREE.Mesh(H,J),x=H.attributes.position,G=x.count,N=new THREE.PlaneGeometry(120,80,80,80),m=N.attributes.position,K=new THREE.MeshBasicMaterial({color:16777215,wireframe:!0,transparent:!0,opacity:.06}),W=new THREE.Mesh(N,K);function _(){p.fog=new THREE.FogExp2(657930,.035),l.position.set(0,33,22),l.lookAt(0,0,0),h.setSize(window.innerWidth,window.innerHeight),h.setPixelRatio(Math.min(window.devicePixelRatio,2)),u.position.y=-3,p.add(u),p.add(W),W.position.set(0,12,-40),H.rotateX(1.5);for(let i=0;i<m.count;i++){const n=m.getX(i),s=m.getZ(i),o=b(n*.04+10,s*.04+10,4)*6;m.setY(i,o)}B(G,x)}function S(){requestAnimationFrame(S);const i=Z.getDelta();C+=i,q(G,x,C),(u.rotation.y>=1.4||u.rotation.y<=-.1)&&(O*=-1),u.rotation.y+=j*i*O,l.position.x+=(D-l.position.x)*.03,l.position.y+=(F-l.position.y)*.03,l.lookAt(0,0,0),h.render(p,l)}window.addEventListener("resize",()=>{l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)});_();S();
